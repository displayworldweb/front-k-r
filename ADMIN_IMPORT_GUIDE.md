# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–º–ø–æ—Ä—Ç—É –ø–∞–º—è—Ç–Ω–∏–∫–æ–≤ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `/admin/import`
2. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

### –ü—Ä–æ—Ü–µ—Å—Å –∏–º–ø–æ—Ä—Ç–∞
1. **–í—ã–±–µ—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –ø–∞–º—è—Ç–Ω–∏–∫–æ–≤** –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞:
   - ü™¶ –û–¥–∏–Ω–æ—á–Ω—ã–µ –ø–∞–º—è—Ç–Ω–∏–∫–∏
   - üë• –î–≤–æ–π–Ω—ã–µ –ø–∞–º—è—Ç–Ω–∏–∫–∏
   - üíé –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –ø–∞–º—è—Ç–Ω–∏–∫–∏
   - üì¶ –°–æ—Å—Ç–∞–≤–Ω—ã–µ –ø–∞–º—è—Ç–Ω–∏–∫–∏

2. **–ó–∞–≥—Ä—É–∑–∏ —Ñ–∞–π–ª Excel** (.xlsx –∏–ª–∏ .xls)
   - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 10 –ú–ë
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: Excel

3. **–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É "–ù–∞—á–∞—Ç—å –∏–º–ø–æ—Ä—Ç"**
   - –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–π–º–µ—Ç –≤—Ä–µ–º—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
   - –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Ç–∞–±–ª–∏—Ü—ã
   - –ó–∞—Ç–µ–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ

4. **–ü–æ—Å–º–æ—Ç—Ä–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç**
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–º—è—Ç–Ω–∏–∫–æ–≤
   - –ò–º—è —Ç–∞–±–ª–∏—Ü—ã —Å —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–µ–π (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –æ—Ç–∫–∞—Ç)
   - –°–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫ (–µ—Å–ª–∏ –±—ã–ª–∏)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Ñ–∞–π–ª—É Excel

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏

| –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|---------|--------|
| `–ù–∞–∑–≤–∞–Ω–∏–µ` | –ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–Ω–∏–∫–∞ | "–ü–∞–º—è—Ç–Ω–∏–∫ –≥—Ä–∞–Ω–∏—Ç", "–û–±–µ–ª–∏—Å–∫ —á–µ—Ä–Ω—ã–π" |

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏

| –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–∏–ø | –ü—Ä–∏–º–µ—Ä |
|---------|---------|------|--------|
| `–¶–µ–Ω–∞` | –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ –≤ —Ä—É–±. | –ß–∏—Å–ª–æ | 15000 |
| `–°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞` | –ü—Ä–µ–¥—ã–¥—É—â–∞—è —Ü–µ–Ω–∞ (–¥–ª—è —Å–∫–∏–¥–æ–∫) | –ß–∏—Å–ª–æ | 20000 |
| `–°–∫–∏–¥–∫–∞` | –†–∞–∑–º–µ—Ä —Å–∫–∏–¥–∫–∏ –≤ % | –ß–∏—Å–ª–æ | 25 |
| `–í—ã—Å–æ—Ç–∞` | –í—ã—Å–æ—Ç–∞ –ø–∞–º—è—Ç–Ω–∏–∫–∞ | –°—Ç—Ä–æ–∫–∞ | "130 —Å–º" |
| `–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ` | –ü—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é | –°—Ç—Ä–æ–∫–∞ | "/uploads/photo.jpg" |
| `–û–ø–∏—Å–∞–Ω–∏–µ` | –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ | –°—Ç—Ä–æ–∫–∞ | "–ü–∞–º—è—Ç–Ω–∏–∫ –∏–∑ —á–µ—Ä–Ω–æ–≥–æ –≥—Ä–∞–Ω–∏—Ç–∞" |
| `–ö–∞—Ç–µ–≥–æ—Ä–∏—è` | –ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø–∞–º—è—Ç–Ω–∏–∫–∞ | –°—Ç—Ä–æ–∫–∞ | "–û–¥–∏–Ω–æ—á–Ω—ã–µ" |

## –õ–æ–≥–∏–∫–∞ UPSERT (UPDATE –∏–ª–∏ INSERT)

**–í–∞–∂–Ω–æ:** –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç UPSERT –ª–æ–≥–∏–∫—É –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤.

–ü–∞–º—è—Ç–Ω–∏–∫ –±—É–¥–µ—Ç **–û–ë–ù–û–í–õ–ï–ù** –µ—Å–ª–∏:
1. –ù–∞–π–¥–µ–Ω –ø–∞–º—è—Ç–Ω–∏–∫ —Å —Ç–µ–º –∂–µ **slug** (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è)
2. –ò–õ–ò –Ω–∞–π–¥–µ–Ω –ø–∞–º—è—Ç–Ω–∏–∫ —Å —Ç–µ–º –∂–µ **–Ω–∞–∑–≤–∞–Ω–∏–µ–º**

–ü–∞–º—è—Ç–Ω–∏–∫ –±—É–¥–µ—Ç **–°–û–ó–î–ê–ù** –µ—Å–ª–∏:
- –ù–µ –Ω–∞–π–¥–µ–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–∞–º—è—Ç–Ω–∏–∫ —Å —Ç–∞–∫–∏–º slug –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ–º

### –ü—Ä–∏–º–µ—Ä
```
–ü–µ—Ä–≤—ã–π –∏–º–ø–æ—Ä—Ç: "–ü–∞–º—è—Ç–Ω–∏–∫ –û—Ä—ë–ª" ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è, ID=1
–í—Ç–æ—Ä–æ–π –∏–º–ø–æ—Ä—Ç: "–ü–∞–º—è—Ç–Ω–∏–∫ –û—Ä—ë–ª" ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è (ID=1)
–í—Ç–æ—Ä–æ–π –∏–º–ø–æ—Ä—Ç: "–ü–∞–º—è—Ç–Ω–∏–∫ –û—Ä–µ–ª" (–±–µ–∑ –±—É–∫–≤—ã —ë) ‚Üí –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å—Å—è –Ω–æ–≤—ã–π (—Ä–∞–∑–Ω—ã–π slug)
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø
–ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∏–º–ø–æ—Ä—Ç–æ–º —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Ç–∞–±–ª–∏—Ü—ã:
- –§–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏: `{—Ç–∞–±–ª–∏—Ü–∞}_backup_{–¥–∞—Ç–∞}_{–≤—Ä–µ–º—è}`
- –ü—Ä–∏–º–µ—Ä: `single_monuments_backup_2025-01-15_1705340400000`

### –ö–∞–∫ –æ—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:

```sql
-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –±—ç–∫–∞–ø—ã
SELECT * FROM single_monuments_backup_2025-01-15_*;

-- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –±—ç–∫–∞–ø–∞
DROP TABLE single_monuments;
ALTER TABLE single_monuments_backup_2025-01-15_1705340400000 
RENAME TO single_monuments;
```

## –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### –æ—à–∏–±–∫–∞: "–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"
- –£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–ª —Ñ–∞–π–ª –ø–µ—Ä–µ–¥ –Ω–∞–∂–∞—Ç–∏–µ–º –∫–Ω–æ–ø–∫–∏

### –æ—à–∏–±–∫–∞: "–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞"
- –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å .xlsx –∏–ª–∏ .xls
- –ü—Ä–æ–≤–µ—Ä—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞

### –æ—à–∏–±–∫–∞: "–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 10 –ú–ë"
- –†–∞–∑–±–µ–π —Ñ–∞–π–ª –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–µ–Ω—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
- –£–¥–∞–ª–∏ –ª–∏—à–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

### –ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω, –Ω–æ –Ω–µ –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- –ü–æ—Å–º–æ—Ç—Ä–∏ —Å–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
- –ò—Å–ø—Ä–∞–≤—å –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ Excel
- –°–¥–µ–ª–∞–π –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∏–º–ø–æ—Ä—Ç (–æ–±–Ω–æ–≤—è—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### API endpoint
- **URL:** `/api/admin/monuments-import`
- **–ú–µ—Ç–æ–¥:** POST
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** Bearer token (—Ç—Ä–µ–±—É–µ—Ç—Å—è)

### –ó–∞–ø—Ä–æ—Å
```javascript
const formData = new FormData();
formData.append("file", fileObject);
formData.append("category", "single"); // single, double, exclusive, composite

const response = await fetch("/api/admin/monuments-import", {
  method: "POST",
  headers: {
    "Authorization": `Bearer ${token}`,
  },
  body: formData,
});
```

### –û—Ç–≤–µ—Ç (—É—Å–ø–µ—Ö)
```json
{
  "success": true,
  "data": {
    "backupTableName": "single_monuments_backup_2025-01-15_1705340400000",
    "tableName": "single_monuments",
    "totalProcessed": 150,
    "created": 45,
    "updated": 105,
    "errors": []
  }
}
```

### –û—Ç–≤–µ—Ç (–æ—à–∏–±–∫–∞)
```json
{
  "error": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
}
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ Excel

**–õ–∏—Å—Ç: "–û–¥–∏–Ω–æ—á–Ω—ã–µ"**

| –ù–∞–∑–≤–∞–Ω–∏–µ | –¶–µ–Ω–∞ | –í—ã—Å–æ—Ç–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|------|--------|---------|
| –ü–∞–º—è—Ç–Ω–∏–∫ –û—Ä—ë–ª —á–µ—Ä–Ω—ã–π | 18500 | 130 —Å–º | –ü–∞–º—è—Ç–Ω–∏–∫ –∏–∑ —á–µ—Ä–Ω–æ–≥–æ –≥—Ä–∞–Ω–∏—Ç–∞ |
| –û–±–µ–ª–∏—Å–∫ –ì—Ä–∞–Ω–∏—Ç | 22000 | 150 —Å–º | –û–±–µ–ª–∏—Å–∫ –∏–∑ —Å–≤–µ—Ç–ª–æ–≥–æ –≥—Ä–∞–Ω–∏—Ç–∞ |
| –ö—Ä–µ—Å—Ç –ü—Ä–∞–≤–æ—Å–ª–∞–≤–Ω—ã–π | 12000 | 120 —Å–º | –ö—Ä–µ—Å—Ç –∏–∑ –≥—Ä–∞–Ω–∏—Ç–∞ |

**–†–µ–∑—É–ª—å—Ç–∞—Ç –∏–º–ø–æ—Ä—Ç–∞:**
- ‚ú® –°–æ–∑–¥–∞–Ω–æ: 3
- üìù –û–±–Ω–æ–≤–ª–µ–Ω–æ: 0
- üíæ –ë—ç–∫–∞–ø: single_monuments_backup_2025-01-15_1705340400000

## FAQ

**Q: –ú–æ–≥—É –ª–∏ —è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞–º—è—Ç–Ω–∏–∫–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞?**
A: –ù–µ—Ç, –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞. –î–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π –æ—Å–Ω–æ–≤–Ω—É—é –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.

**Q: –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –µ—Å–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é –æ–¥–Ω—É –ø–∞–º—è—Ç–Ω–∏–∫ –¥–≤–∞–∂–¥—ã?**
A: –í—Ç–æ—Ä–æ–π –∏–º–ø–æ—Ä—Ç –æ–±–Ω–æ–≤–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–∞–º—è—Ç–Ω–∏–∫ (UPSERT –ª–æ–≥–∏–∫–∞).

**Q: –ö–∞–∫ —É–¥–∞–ª–∏—Ç—å –ø–∞–º—è—Ç–Ω–∏–∫ –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞?**
A: –ü–æ–∫–∞ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –Ω–µ–ª—å–∑—è. –ò—Å–ø–æ–ª—å–∑—É–π SQL –∏–ª–∏ –¥—Ä—É–≥–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î.

**Q: –ú–æ–≥—É –ª–∏ —è –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ?**
A: –ù–µ—Ç, –∫–∞–∂–¥—ã–π –∏–º–ø–æ—Ä—Ç - –¥–ª—è –æ–¥–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏. –°–¥–µ–ª–∞–π –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–º–ø–æ—Ä—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π.

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –∏–º–ø–æ—Ä—Ç–æ–º, —Å–≤—è–∂–∏—Å—å —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.
