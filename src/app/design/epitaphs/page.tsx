"use client";
import { useEffect, useState } from "react";
import { apiClient } from "@/lib/api-client";
import PathPage from "@/app/components/PathPage";
import SidebarCatalogMenu from "@/app/components/Sidebar/SidebarCatalogMenu";
import SidebarStickyHelp from "@/app/components/Sidebar/SidebarStickyHelp";
import EpitaphsGrid from "@/app/components/EpitaphsGrid";
import Link from "next/link";
import { Epitaph } from "@/app/types/types";

const EpitaphsPage = () => {
    const [epitaphs, setEpitaphs] = useState<Epitaph[]>([]);
    const [loading, setLoading] = useState(true);

    useEffect(() => {
        async function fetchEpitaphs() {
            try {
                const data = await apiClient.get("https://api.k-r.by/api/epitaphs");
                if (data.success) {
                    setEpitaphs(data.data || []);
                }
            } catch (error) {
                console.error("Failed to fetch epitaphs:", error);
            } finally {
                setLoading(false);
            }
        }

        fetchEpitaphs();
    }, []);

    return (
        <>
            <section className="page-centered mt-5 max-w-[1300px] flex">
                <div className="max-w-[25%] w-full hidden lg:block space-y-7.5 ml-5">
                    <SidebarCatalogMenu />
                    <SidebarStickyHelp />
                </div>
                <div className="w-[100%] lg:ml-5 lg:max-w-[75%]">

                    <div className="pl-4 lg:pl-0">
                        <PathPage />
                        <h1 className="text-black text-[28px] mt-2.5 leading-8 lg:text-[40px] lg:leading-12 font-[600]">Эпитафии</h1>
                    </div>

                    {/* Основной контент */}
                    <div className="mt-5 lg:mt-7.5 font-[600] shadow-xs px-4 pb-5 lg:px-0 rounded-lg">
                        {/* Введение */}
                        <p className="text-[#2c3a54] mb-5">
                            <strong>Эпитафия</strong> — это изречение, которое используется в качестве надгробной надписи. Как правило такой текст наносится на нижнюю часть памятника, однако его можно нанести и на заднюю сторону памятника или на надгробную плиту. Вы можете выбрать эпитафии любой длины и содержания.
                        </p>

                        {/* Блок с карточками эпитафий */}
                        <EpitaphsGrid epitaphs={epitaphs} />

                        {/* Дополнительный текст */}
                        <p className="text-[#2c3a54] mb-5 mt-7.5">
                            Многие хотят в память о тех, кого забрала смерть, заказать трогательные надписи на памятниках. Такое надгробие поможет подчеркнуть любовь к тому, о ком близкие будут скорбеть, и приукрасить их вечный мир. Наша компания изготавливает различные эпитафии на памятник короткие и длинные, как стандартного образца, так и по вашим идеям.
                        </p>

                        {/* Что такое эпитафия */}
                        <h2 className="text-[24px] font-bold text-[#2c3a54] mb-3.75">Что такое эпитафия</h2>
                        <p className="text-[#2c3a54] mb-5">
                            Эпитафией называется изречение, используемое в качестве надгробных надписей на памятниках. Её предназначение отображать некоторые факты из биографии усопшего, его роде деятельности, заслугах или личных качествах. Надписи на памятник также могут выражать печаль и скорбь родных, близких.
                        </p>
                        <p className="text-[#2c3a54] mb-5">
                            Несмотря на то, что эпитафии читают живые, сам этот текст предназначен, прежде всего, тому, кто ушёл из жизни. Это надпись помогает подчеркнуть самое важное либо озвучить то, что не было сказано своевременно при жизни.
                        </p>

                        {/* История эпитафий */}
                        <h2 className="text-[24px] font-bold text-[#2c3a54] mb-3.75">История эпитафий</h2>
                        <p className="text-[#2c3a54] mb-5">
                            Красивые надгробные надписи начали наносить еще в Древней Греции, и там зародился термин эпитафий. В переводе он означает "надгробная надпись". Данная традиция возникла, чтобы увековечить память героев войны с Персией и подчеркнуть эти заслуги. Впоследствии эпитафий начали удостаиваться другие сограждане, великие деятели. Далее это изобретение стало всё обширнее применяться на других территориях, пока с течением веков, такие надписи не стали наносить даже на надгробие простолюдинам.
                        </p>
                        <p className="text-[#2c3a54] mb-5">
                            Со временем красивые эпитафии на памятник преобразились и получили разновидности. Среди основных видов различаются такие:
                        </p>
                        <ul className="list-disc pl-10 text-[#2c3a54] space-y-1 mb-5">
                            <li>Проза.</li>
                            <li>Стих.</li>
                            <li>Изречения, цитаты.</li>
                            <li>Поэтические сочинения.</li>
                            <li>Памятные слова.</li>
                        </ul>
                        <p className="text-[#2c3a54] mb-5">
                            В зависимости от степени родства с усопшим человеком, разные слова и форматы эпитафий помогают лучше передать те эмоции, которые нужны.
                        </p>

                        {/* По формату */}
                        <p className="text-[#2c3a54] font-bold mb-5">
                            По формату существуют стандартные решения, среди них:
                        </p>
                        <ul className="list-disc pl-10 text-[#2c3a54] space-y-1 mb-5">
                            <li>Короткая надпись на памятник в 1 строку.</li>
                            <li>Более содержательные в 2 или более строки.</li>
                            <li>Длинные, объёмные, чаще всего в стихотворной форме.</li>
                        </ul>
                        <p className="text-[#2c3a54] mb-5">
                            Существуют разные способы нанести красивые слова на памятник.
                        </p>
                        <p className="text-[#2c3a54] font-bold mb-5">
                            Среди основных вариантов присутствуют такие:
                        </p>
                        <ol className="list-decimal pl-10 text-[#2c3a54] space-y-1 mb-5">
                            <li>Гравировка ручная.</li>
                            <li>Компьютерное нанесение надписей.</li>
                            <li>Написание эпитафии бронзовыми буквами.</li>
                        </ol>
                        <p className="text-[#2c3a54] mb-5">
                            Каждый из вариантов отличается трудоёмкостью, стоимостью и особенностями. По наглядности и эстетичности, каждый из них способен обеспечить достойный результат.
                        </p>

                        {/* Почему стоит заказать */}
                        <h2 className="text-[24px] font-bold text-[#2c3a54] mb-3.75">Почему стоит заказать гравировку эпитафий в «Каменная роза»?</h2>
                        <p className="text-[#2c3a54] mb-5">
                            Исходя из пожеланий заказчика, предложим любые варианты размещения и украшения длинных и коротких надписей на памятниках. В качестве дополнения, гравировка также может покрываться сусальным золотом. Дополнительно стоит помнить о том, что вполне допустимо добавлять новый текст на плиту и после её установки.
                        </p>
                        <p className="text-[#2c3a54] mb-5">
                            Если Вы по разным причинам, сталкиваетесь с затруднениями при составлении надгробной надписи, сможем предложить выбор из стандартных вариантов. Они будут ёмкими для оптимального размещения на плите либо это будут трогательные эпитафии, в составление которых действительно вкладывается душа.
                        </p>

                        {/* Быстрые ссылки */}
                        <p className="text-[#2c3a54] font-bold mb-2.5">
                            Быстрые ссылки на разделы:
                        </p>
                        <ul className="list-disc pl-10 text-[#2c3a54] space-y-1">
                            <li><Link href={"/"} className="text-[#969ead]">Надпись на памятнике</Link></li>
                            <li><Link href={"/"} className="text-[#969ead]">Гравировка портрета</Link></li>
                        </ul>
                    </div>
                </div>
            </section>
        </>
    );
};

export default EpitaphsPage;